private ["_pos","_pos_x","_pos_y","_pos_z","_group","_myUniform","_myMagazines","_myVest","_myBackpack","_myBackpackitems","_myVestitems","_myUniform","_myHeadgear","_myWeaponItems","_myUnitCount","_u","_p","_wep","_x","_myItems"];
    //uiSleep 120;
    _pos= _this select 0;
	_pos_x  = _pos select 0;
    _pos_y = _pos select 1;
	_pos_z  = _pos select 2;
	_myUniform = _this select 7;
	_myHeadgear = _this select 8;
	_myBackpack = _this select 4;
	_myVest = _this select 3;
	_myMagazines = _this select 2;
	_myWeapons = _this select 1;
	_myBackpackitems = _this select 5;
	_myVestitems = _this select 6;
	_myweaponItems = _this select 9;
	_p = _this select 10;
	_myItems = _this select 11;
	
	//uiSleep 10;

	
	/*removeAllItems _p;
    removeAllWeapons _p;
    removeUniform _p;
    removeVest _p;
    removeBackpack _p;
    removeHeadgear _p;*/
    deleteVehicle _p;
	


    _group = creategroup  EAST;
    _group setCombatMode "BLUE";
    _group allowFleeing 0;
    _group enableAttack true;
	_zClass = "RyanZombieboss1";

	
	_zClass createUnit 
	[
		_pos,
		_group,
		"
		
		doStop this;
		this disableAI 'FSM';
		this enableAI 'ANIM';
		this disableConversation true;
		this addMPEventHandler ['MPKilled', {_this spawn ZMPKilled;}];
		
		"
		
	];
	
	_myUnitCount = count units _group;

	{removeUniform  _x } foreach units _group;
	{removeallassigneditems   _x } foreach units _group;
	{_x  addUniform _myUniform } foreach units _group;
	{_x  addHeadgear _myHeadgear } foreach units _group;
	{_x  addBackpack _myBackpack } foreach units _group;
	{_x  addVest _myVest } foreach units _group;
	
	for "_h" from 0 to (_myUnitCount -1) do { 
	    _u = units _group select _h;
	    {_u addMagazine _x} forEach _myMagazines;
		{_u linkItem _x;} forEach _myItems;
		_wep = createVehicle ["groundWeaponHolder", _pos, [], 0, "can_collide"];
		{_wep addWeaponCargoGlobal [_x, 1];} forEach _myWeapons;
	    {_u addItemToBackpack _x} forEach _myBackpackitems;
        {_u addItemToVest _x} forEach _myVestitems;
        {_u addPrimaryWeaponItem _x} forEach _myweaponItems;
		//smokeRedZombie = "SmokeShell" createVehicle (_pos);
        //smokeRedZombie attachto [_u, [0,0,0]]; 
	    if(_h == (_myUnitCount -1))then {
			_h = nil;
			_u = nil;
			_wep = nil;
		};	
	};
	
    
	diag_log format["RESPAWNZOMBIE -- Group : %1 - Items : %2 - Unit: %3",_myItems,_p,_myUnitCount];
	
		
		
		/*removeUniform this;
		this addUniform _myUniform;
        this addHeadgear _myHeadgear;
        this addBackpack _myBackpack;
        this addVest _myVest;
        {this addMagazine _x} forEach _myMagazines;
        {this addWeapon _x} forEach _myWeapons;
        {this addItemToBackpack _x} forEach _myBackpackitems;
        {this addItemToVest _x} forEach _myVestitems;
        {this addPrimaryWeaponItem _x} forEach _myweaponItems;*/
		
		
	/*AddToZombie = { 
	    private["_a","_addWhat","_myObjects"];
	    _a = _this select 0;
	    _addWhat = _this select 1;
	    _myObjects = _this select 2;
		{_a _addWhat _x} forEach _myObjects;
	};*/
	
	/* 
    for "_i" from 0 to 3 do {
		_xvel = 0;_yvel = 0;_zvel = 0;_tnt = 0;
	    drop[["A3\Data_F\ParticleEffects\Universal\universal.p3d",16,7,48],"","Billboard",0,1 + random 0.5,[_pos_x,_pos_y,_pos_z],
		[_xvel,_yvel,_zvel],1,1.2,1.3,0,[2],[[0.55,0.5,0.45,0],[_tnt + 0.55,_tnt + 0.5,_tnt + 0.45,0.16],
		[_tnt + 0.55,_tnt + 0.5,_tnt + 0.45, 0.12],[_tnt + 0.5,_tnt + 0.45,_tnt + 0.4,0.08],
		[_tnt + 0.45,_tnt + 0.4,_tnt + 0.35,0.04],[_tnt + 0.4,_tnt + 0.35,_tnt + 0.3,0.01]],[0],0.1,0.1,"","",""];
	};*/
